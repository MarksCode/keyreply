<!DOCTYPE HTML>
<html>

<head>
    <title>Chat by KeyReply</title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <!--[if lte IE 8]><script src="assets/js/ie/html5shiv.js"></script><![endif]-->
    <link rel="stylesheet" href="assets/css/main.css" />
    <!--[if lte IE 9]><link rel="stylesheet" href="assets/css/ie9.css" /><![endif]-->
    <!--[if lte IE 8]><link rel="stylesheet" href="assets/css/ie8.css" /><![endif]-->
    <script>
    (function(i, s, o, g, r, a, m) {
        i['GoogleAnalyticsObject'] = r;
        i[r] = i[r] || function() {
            (i[r].q = i[r].q || []).push(arguments)
        }, i[r].l = 1 * new Date();
        a = s.createElement(o),
            m = s.getElementsByTagName(o)[0];
        a.async = 1;
        a.src = g;
        m.parentNode.insertBefore(a, m)
    })(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');

    ga('create', 'UA-55913366-13', 'auto');
    ga('send', 'pageview');
    </script>
</head>

<body>
    <!-- Page Wrapper -->
    <div id="page-wrapper">
        <!-- Wrapper -->
        <section id="wrapper">
            <canvas style="position:absolute; right: 0; bottom: 0; top:0; z-index:-1;"></canvas>
            <div class="inner">
                <h1 style="background:white; width: 250px;"><b>Chat</b> by KeyReply</h1>
                <h2 style="background:white;">Simplest live chat widget on the planet</h2>
                <p style="background:white;">Add mobile-friendly chat support to your website in less than 5 minutes! 
                <br/>
                Connect with your site visitors using popular messaging apps. The widget creates a deeplink into the chat applications on the user's phone. 

                <br/>
                No more old-fashioned contact form and expensive live chat plans.
                <br/>
                Chat by KeyReply is <b>100% free!</b>

                </p>
                <ul class="actions" style="text-align:center;">
                    <li><a id="get-it" class="button special">Get it now!</a></li>
                </ul>
                <style>
                @media screen and (min-width: 963px) {
                    #banner {
                        position: fixed;
                        left: 0;
                        height: 100vh;
                    }
                }

                .input-block {
                    cursor: move;
                    position: relative;
                    height: 120px;
                    padding: 16px 30px;
                    margin: 50px 30px;
                    color: white;
                    border-radius: 4px;
                    background: #00DC00;
                }
                
                .input-block img.app-icon {
                    position: absolute;
                    top: -30px;
                    left: -30px;
                    height: 65px;
                    width: 65px;
                }
                
                .input-block .app-label {
                    font-weight: 500;
                    font-size: 20px;
                }
                
                .input-block input {
                    background: none;
                    border-width: 0 0 2px 0;
                    border-radius: 0;
                    height: 40px;
                    padding-left: 0;
                    font-size: 20px;
                }
                
                .input-block.inactive {
                    background-color: #999999 !important;
                }

                .input-block.inactive img {
                    -webkit-filter: grayscale(100%);
                } 

                .input-block.inverse .app-label {
                    color: #3B1E1D;
                }
                
                .input-block.inverse input {
                    color: #3B1E1D;
                    border-color: #3B1E1D;
                }
                
                .input-block.inverse input:focus {
                    border-color: #3B1E1D;
                }
                
                .input-block input:focus {
                    border-color: white;
                }
                
                #embed {
                    word-break: break-all;
                }
                
                .sortable-placeholder {
                    position: relative;
                    height: 120px;
                    padding: 16px 30px;
                    margin: 50px 30px;
                    border-radius: 4px;
                    border-style: dashed;
                    border-width: 2px;
                }

                .checkbox-container {
                    position: absolute; 
                    right: 0; 
                    top: 0;
                    width: 40px;
                }

                </style>


                <div class="input-block-container" style="display:none;">
                    <h1><b>Step 1:</b> Choose the apps that you want to enable for your website. Then fill in the required information. </h1>
                    <div class="input-block inactive" style="background: #00DC00;">
                        <img class="app-icon" src="images/apps/phone.png" alt="phone">
                        <div class="app-label">
                            Phone
                            <div class="checkbox-container">
                              <input type="checkbox" class="toggle"/>
                              <label for="toggle" class="well"></label>
                            </div>
                        </div>
                        <input name="phone" type="text" placeholder="phone number…">
                    </div>
                    <div class="input-block inactive" style="background: #00DD00;">
                        <img class="app-icon" src="images/apps/facetime.png" alt="facetime">
                        <div class="app-label">
                            FaceTime
                            <div class="checkbox-container">
                              <input type="checkbox" class="toggle"/>
                              <label for="toggle" class="well"></label>
                            </div>
                        </div>
                        <input name="phone" type="text" placeholder="Apple ID">
                    </div>
                    <div class="input-block inactive" style="background: #00A4E8;">
                        <img class="app-icon" src="images/apps/telegram.png" alt="telegram">
                        <div class="app-label">
                            Telegram
                            <div class="checkbox-container">
                              <input type="checkbox" class="toggle"/>
                              <label for="toggle" class="well"></label>
                            </div>
                            <div class="checkbox-container">
                              <input type="checkbox" class="toggle"/>
                              <label for="toggle" class="well"></label>
                            </div>
                        </div>
                        <input name="telegram" type="text" placeholder="Username">
                    </div>
                    <div class="input-block inactive" style="background: #00DC00;">
                        <img class="app-icon" src="images/apps/sms.png" alt="sms">
                        <div class="app-label">
                            SMS
                            <div class="checkbox-container">
                              <input type="checkbox" class="toggle"/>
                              <label for="toggle" class="well"></label>
                            </div>
                            
                        </div>
                        <input name="sms" type="text" placeholder="phone number…">
                    </div>
<!--                     <div class="input-block inactive" style="background: #00DA00;">
                        <img class="app-icon" src="images/apps/wechat.png" alt="wechat">
                        <div class="app-label">
                            WeChat
                            <div class="checkbox-container">
                              <input type="checkbox" class="toggle"/>
                              <label for="toggle" class="well"></label>
                            </div>                            
                        </div>
                        <input name="wechat" type="text" placeholder="微信 ID…">
                    </div> -->
                    <div class="input-block inactive" style="background: #0079FF;">
                        <img class="app-icon" src="images/apps/facebook.png" alt="phone">
                        <div class="app-label">
                            Facebook Messenger
                            <div class="checkbox-container">
                              <input type="checkbox" class="toggle"/>
                              <label for="toggle" class="well"></label>
                            </div>
                        </div>
                        <input name="facebook" type="text" placeholder="Facebook ID…"><a target="_blank" href="http://findmyfbid.com/" style="color:white; font-size: 12px; float:right;">What is Facebook ID?</a>
                    </div>
                    <div class="input-block inactive inverse" style="background: #FFE100;">
                        <img class="app-icon" src="images/apps/kakao.png" alt="Kakao Talk">
                        <div class="app-label">
                            Kakao Talk
                            <div class="checkbox-container">
                              <input type="checkbox" class="toggle"/>
                              <label for="toggle" class="well"></label>
                            </div>
                        </div>
                        <input name="kakao" type="text" placeholder="Yellow ID…">
                    </div>
                    <div class="input-block inactive" style="background: #1C62EF;">
                        <img class="app-icon" src="images/apps/email.png" alt="email">
                        <div class="app-label">
                            Email
                            <div class="checkbox-container">
                              <input type="checkbox" class="toggle"/>
                              <label for="toggle" class="well"></label>
                            </div>
                        </div>
                        <input name="email" type="text" placeholder="example@company.com">
                    </div>
                    <div class="actions-block">
                    <h1><b>Step 2:</b> Pick a color for the chat icon.</h1>
                    
                    <style>
                        #icon-color-picker > div {
                            cursor: pointer;
                            position: relative;
                            display: inline-block;
                        }

                        #icon-color-picker > div.selected:before {
                            position:absolute; 
                            top: -40px;
                            left: 0px;
                            right: 0px;
                            width: 30px;
                            font-size: 30px;
                            margin: 0 auto;
                            color: #E4392B;
                            font-family: FontAwesome;
                            content: '\f024';
                        }
                    </style>
                    <div id="icon-color-picker" style="text-align:center;">
                        <div data-color="black">                            
                            <img src="/chat/images/launcher/black.png" alt="">
                        </div>
                        <div data-color="blue">
                            <img src="/chat/images/launcher/blue.png" alt="">
                        </div>
                        <div data-color="green">
                            <img src="/chat/images/launcher/green.png" alt="">
                        </div>
                        <div data-color="grey">
                            <img src="/chat/images/launcher/grey.png" alt="">
                        </div>
                        <div data-color="orange">
                            <img src="/chat/images/launcher/orange.png" alt="">
                        </div>
                        <div data-color="purple">
                            <img src="/chat/images/launcher/purple.png" alt="">
                        </div>
                        <div data-color="red">
                            <img src="/chat/images/launcher/red.png" alt="">
                        </div>
                        <div data-color="yellow">
                            <img src="/chat/images/launcher/yellow.png" alt="">
                        </div>
                    </div>
    
                    <br>

                    <ul class="actions" style="text-align:center;">
                        <li><a href="javascript:generate();" class="button special icon fa-magic">Generate embed code</a></li>
                    </ul>

                    <textarea id="embed" readonly="readonly" onclick="this.focus();this.select();" cols="30" rows="6" spellcheck="false" style="color: #333333">
                    </textarea>
                    
                    <br>

                    <p style="color: #333333">
                        Copy the above code and insert it into your website's HTML source code.
                        Insert it on every page that you want the Chat Widget to appear.
                    </p>
                </div>
                </div>

                <script>
                function generate() {
                    var apps = {},
                        color = "red";

                    color = $('#icon-color-picker > div.selected').data('color');

                    $($('.input-block:not(.inactive) input[type=text]').get().reverse()).each(function(index, input) {
                        if (input.value) {
                            apps[input.name] = input.value
                        }
                    });

                    var payload = btoa(encodeURI(JSON.stringify(apps)));
                    var embed = document.getElementById("embed");

                    embed.value = '<script defer id="keyreply-script" src="//keyreply.com/chat/widget.js" data-color="' + color + '" data-apps="' + payload + '"><\/script>'
                    embed.focus();
                    embed.select();
                }
                </script>
            </div>
            <footer>
                <ul class="icons" style="color:#555555;">
                    <li><a href="https://twitter.com/keyreply" class="icon fa-twitter"><span class="label">Twitter</span></a></li>
                    <!-- <li><a href="https://github.com/xumx/" class="icon fa-github"><span class="label">Github</span></a></li> -->
                </ul>
            </footer>
        </section>
        <!-- Banner -->
        <section id="banner">
            <div class="inner">
                <div class="content" style="background-color:#E4392B;">
                    <ul>
                        <li><img src="images/KeyReply_chat_widget.gif" alt="" /></li>
                    </ul>
                </div>
            </div>
        </section>
    </div>
    <!-- Scripts -->
    <!--[if lte IE 8]><script src="assets/js/ie/respond.min.js"></script><![endif]-->
    <script src="assets/js/main.js"></script>
    <script src="https://code.jquery.com/jquery-2.1.4.min.js"></script>
    <script src="https://code.jquery.com/ui/1.11.4/jquery-ui.min.js"></script>
    <script>
    $(function() {
        $(".input-block-container").sortable({
            axis: 'y',
            cursor: 'move',
            items: '.input-block',
            delay: 100,
            opacity: 0.8,
            placeholder: 'sortable-placeholder'
        });

        $("#get-it").click(function() {
            $(".input-block-container").show();
        });

        $('.well').click(function(event) {
          $(event.target).siblings().click()
        });

        $('input[type=checkbox]').click(function (event) {
            if ($(event.target).is(':checked')) {
                $(event.target).parent().parent().parent().removeClass("inactive");
            } else {
                $(event.target).parent().parent().parent().addClass("inactive");
            }
        });

        $('input[type=text]').focus(function (event) {
            var block = $(event.target).parent();
            if (block.is('.inactive')) {
                block.find('input[type=checkbox]').click();
            }
        });

        $('#icon-color-picker > div').click(function (event) {
           $(event.currentTarget).addClass('selected');
           $(event.currentTarget).siblings().removeClass('selected'); 
        });
    });
    </script>
    <script defer id="keyreply-script" src="//keyreply.com/chat/widget.js" data-color="red" data-apps="JTdCJTIyZW1haWwlMjI6JTIyc3VwcG9ydEBrZXlyZXBseS5jb20lMjIsJTIyZmFjZWJvb2slMjI6JTIyMTIzNTA3NTQxMzE4NTYyMSUyMiwlMjJ3ZWNoYXQlMjI6JTIyc3BlbmNlcnlhbmclMjIsJTIyc21zJTIyOiUyMisxNDE1OTk2NjE3MSUyMiwlMjJ0ZWxlZ3JhbSUyMjolMjJjYXJ5bHluZSUyMiwlMjJwaG9uZSUyMjolMjIrMTQxNTk5NjYxNzElMjIlN0Q="></script>

    <script src="//d3js.org/d3.v3.min.js" charset="utf-8"></script>
    <script>

if (!navigator.userAgent.match(/mobi/i)) {
/* https://github.com/d3/d3-timer Copyright 2015 Mike Bostock */
    "undefined"==typeof requestAnimationFrame&&(requestAnimationFrame="undefined"!=typeof window&&(window.msRequestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.oRequestAnimationFrame)||function(e){return setTimeout(e,25)}),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t(e.timer={})}(this,function(e){"use strict";function t(){l=s=0,c=1/0,n(a())}function n(e){if(!l){var n=e-Date.now();n>24?c>e&&(s&&clearTimeout(s),s=setTimeout(t,n),c=e):(s&&(s=clearTimeout(s),c=1/0),l=requestAnimationFrame(t))}}function i(e,t){this.callback=e,this.time=t,this.flush=!1,this.next=null}function o(e,t,o){o=null==o?Date.now():+o,null!=t&&(o+=+t);var u=new i(e,o);r?r.next=u:m=u,r=u,n(o)}function u(e,t,n){n=null==n?Date.now():+n,null!=t&&(n+=+t),f.callback=e,f.time=n}function a(e){e=null==e?Date.now():+e;var t=f;for(f=m;f;)e>=f.time&&(f.flush=f.callback(e-f.time,e)),f=f.next;f=t,e=1/0;for(var n,i=m;i;)i.flush?i=n?n.next=i.next:m=i.next:(i.time<e&&(e=i.time),i=(n=i).next);return r=n,e}var m,r,f,l,s,c=1/0;e.timer=o,e.timerReplace=u,e.timerFlush=a});

    var canvas = document.querySelector("canvas"),
        context = canvas.getContext("2d");

        canvas.width = document.getElementById("wrapper").clientWidth;
        canvas.height = document.body.clientHeight;
        var width = canvas.width,
        height = canvas.height,
        radius = 1.5,
        minDistance = 60,
        maxDistance = 120,
        minDistance2 = minDistance * minDistance,
        maxDistance2 = maxDistance * maxDistance;

    var tau = 2 * Math.PI,
        n = 80,
        particles = new Array(n);

    for (var i = 0; i < n; ++i) {
      particles[i] = {
        x0: width * Math.random(),
        y0: height * Math.random(),
        v: .05 * (Math.random() - .5),
        v2: .05 * (Math.random() - .5)
      };
    }

    timer.timer(function(elapsed) {
        context.clearRect(0, 0, width, height);
        context.strokeStyle = "#BBBBBB";
        context.fillStyle = "#BBBBBB";

      for (var i = 0; i < n; ++i) {
        for (var j = i + 1; j < n; ++j) {
          var pi = particles[i],
              pj = particles[j],
              dx = pi.x - pj.x,
              dy = pi.y - pj.y,
              d2 = dx * dx + dy * dy;
          if (d2 < maxDistance2) {
            context.globalAlpha = d2 > minDistance2 ? (maxDistance2 - d2) / (maxDistance2 - minDistance2) : 1;
            context.beginPath();
            context.moveTo(pi.x, pi.y);
            context.lineTo(pj.x, pj.y);
            context.stroke();
          }
        }
      }
      context.globalAlpha = 1;

      for (var i = 0; i < n; ++i) {
        var p = particles[i];
        p.y = p.y0 + elapsed * p.v;
        p.x = p.x0 + elapsed * p.v2;
        if (p.y > height + maxDistance) {
            p.x = width * Math.random(), p.y0 -= height + 2 * maxDistance;
        } else if (p.y < -maxDistance) {
            p.x = width * Math.random(), p.y0 += height + 2 * maxDistance;
        }

        if (p.x > width + maxDistance) {
            p.y = height * Math.random(), p.x0 -= width + 2 * maxDistance;
        } else if (p.x < -maxDistance) {
            p.y = height * Math.random(), p.x0 += width + 2 * maxDistance;
        }

        context.beginPath();
        context.arc(p.x, p.y, radius, 0, tau);
        context.fill();
      }
    });
}
</script>
</body>

</html>
